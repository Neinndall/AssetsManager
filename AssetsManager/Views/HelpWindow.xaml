<Window x:Class="AssetsManager.Views.HelpWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
        xmlns:icons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
        Title="Help" Height="750" Width="950"
        MinHeight="750" MinWidth="950"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        WindowStyle="SingleBorderWindow"
        AllowsTransparency="False"
        Background="Transparent"
        FontFamily="{StaticResource AppFontFamily}">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="40" 
                      ResizeBorderThickness="5" 
                      GlassFrameThickness="1" 
                      CornerRadius="0" 
                      UseAeroCaptionButtons="False"/>
    </WindowChrome.WindowChrome>

    <Border BorderBrush="{StaticResource BorderColor}" 
            Background="{StaticResource SidebarBackground}"
            BorderThickness="0" 
            CornerRadius="0" 
            Margin="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- 0: Custom Title Bar -->
                <RowDefinition Height="*"/>    <!-- 1: Main Content -->
            </Grid.RowDefinitions>

            <!-- 1. Custom Title Bar -->
            <Border Grid.Row="0" Background="{StaticResource CardBackground}" Height="40" CornerRadius="0" BorderBrush="{StaticResource BorderColor}" BorderThickness="0,0,0,1" Panel.ZIndex="10">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="1" Color="Black" Opacity="0.15" Direction="270"/>
                </Border.Effect>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/> <!-- Icon/Title -->
                        <ColumnDefinition Width="*"/>    <!-- Spacer (Drag Area) -->
                        <ColumnDefinition Width="Auto"/> <!-- Window Controls -->
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="15,0">
                        <icons:MaterialIcon Kind="HelpCircleOutline" Width="18" Height="18" Foreground="{StaticResource AccentBrush}" Margin="0,0,10,0"/>
                        <TextBlock Text="Help" 
                                   FontSize="13" 
                                   FontWeight="Normal"
                                   Foreground="{StaticResource TextPrimary}"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Orientation="Horizontal" WindowChrome.IsHitTestVisibleInChrome="True">
                        <Button Style="{StaticResource TitleBarButtonStyle}" Click="Minimize_Click" Width="34" Height="40">
                            <icons:MaterialIcon Kind="WindowMinimize" Width="15" Height="15"/>
                        </Button>
                        <Button Style="{StaticResource TitleBarButtonStyle}" Click="Maximize_Click" Width="34" Height="40">
                            <icons:MaterialIcon Kind="WindowMaximize" Width="15" Height="15"/>
                        </Button>
                        <Button Style="{StaticResource TitleBarButtonStyle}" Click="Close_Click" Width="34" Height="40" Margin="0,0,2,0">
                            <icons:MaterialIcon Kind="WindowClose" Width="15" Height="15"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- 2. Main Content (Moved to Row 1) -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="240"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Sidebar Navigation -->
                <Border Grid.Column="0" 
                        Background="{StaticResource SidebarBackground}"
                        BorderBrush="{StaticResource BorderColor}"
                        BorderThickness="0,0,1,0">
                    <StackPanel Margin="0,0,0,0">
                        <!-- Header Elaborado -->
                        <Border Padding="16,32,12,24" 
                                BorderBrush="{StaticResource BorderColor}" 
                                BorderThickness="0,0,0,1"
                                Margin="0,0,0,16">
                            <StackPanel Orientation="Horizontal">
                                <!-- Icon Box -->
                                <Border Background="{StaticResource CardBackground}" 
                                        CornerRadius="8" 
                                        Width="44" Height="44"
                                        BorderBrush="{StaticResource BorderColor}"
                                        BorderThickness="1">
                                    <materialIcons:MaterialIcon Kind="HelpCircleOutline" 
                                                               Width="22" Height="22" 
                                                               Foreground="{StaticResource AccentBrush}"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                </Border>

                                <!-- Titles -->
                                <StackPanel VerticalAlignment="Center" Margin="12,0,0,0">
                                    <TextBlock Text="HELP" 
                                               FontWeight="Bold" 
                                               FontSize="14" 
                                               Foreground="{StaticResource TextPrimary}"/>
                                    <TextBlock Text="Information" 
                                               FontSize="11" 
                                               Foreground="{StaticResource TextSecondary}" 
                                               Margin="0,2,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Navigation Items -->
                        <StackPanel>
                            <RadioButton x:Name="NavAbout" 
                                       Content="About" 
                                       Tag="InformationOutline"
                                       GroupName="HelpNavigation" 
                                       IsChecked="True" 
                                       Style="{StaticResource SettingsTabStyle}"/>

                            <RadioButton x:Name="NavChangelogs" 
                                       Content="Changelogs" 
                                       Tag="History"
                                       GroupName="HelpNavigation" 
                                       Style="{StaticResource SettingsTabStyle}"/>

                            <RadioButton x:Name="NavBugsReport" 
                                       Content="Bug Reports" 
                                       Tag="BugOutline"
                                       GroupName="HelpNavigation" 
                                       Style="{StaticResource SettingsTabStyle}"/>

                            <RadioButton x:Name="NavUpdates" 
                                       Content="Updates" 
                                       Tag="Update"
                                       GroupName="HelpNavigation" 
                                       Style="{StaticResource SettingsTabStyle}"/>

                            <RadioButton x:Name="NavDocumentation" 
                                       Content="Documentation" 
                                       Tag="BookOpenVariant"
                                       GroupName="HelpNavigation" 
                                       Style="{StaticResource SettingsTabStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Main Content -->
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Content Area -->
                    <ScrollViewer Grid.Row="0" 
                                VerticalScrollBarVisibility="Auto"
                                HorizontalScrollBarVisibility="Disabled"
                                Padding="32,24">
                        <ContentControl x:Name="HelpContentArea"/>
                    </ScrollViewer>

                    <!-- Bottom Action Bar (Improved) -->
                    <Border Grid.Row="1" 
                          Background="{StaticResource CardBackground}"
                          BorderBrush="{StaticResource BorderColor}"
                          BorderThickness="0,1,0,0"
                          Padding="24,16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Border Background="{StaticResource HoverColor}" CornerRadius="16" Width="32" Height="32" Margin="0,0,12,0">
                                    <materialIcons:MaterialIcon Kind="Lifebuoy" 
                                                               Width="16" Height="16" 
                                                               Foreground="{StaticResource AccentBrush}"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>
                                </Border>
                                
                                <StackPanel VerticalAlignment="Center">
                                    <TextBlock Text="Need more help?"
                                             FontWeight="SemiBold"
                                             Foreground="{StaticResource TextPrimary}" 
                                             FontSize="13"/>
                                    <TextBlock Text="Visit our documentation"
                                             Foreground="{StaticResource TextMuted}" 
                                             FontSize="11"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Documentation Button (Hidden for now) -->
                            <Button Grid.Column="1"
                                  x:Name="BtnOpenDocs" 
                                  Content="Documentation" 
                                  Height="32" 
                                  Padding="16,0"
                                  Style="{StaticResource PrimaryButton}"
                                  IsEnabled="False"
                                  Visibility="Collapsed"/> 
                        </Grid>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>