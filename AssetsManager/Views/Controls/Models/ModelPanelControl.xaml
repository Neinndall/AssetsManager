<UserControl x:Class="AssetsManager.Views.Controls.Models.ModelPanelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="250">
             
    <Border Grid.Column="2"
            Background="{StaticResource CardBackground}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="1"
            Padding="10"
            Margin="0,5,5,5">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TabControl Grid.Row="0" Style="{StaticResource CustomTabControlStyle}">
                <TabItem Header="Meshes">
                    <ListBox x:Name="MeshesListBox" 
                             Style="{StaticResource SmoothScrollListBox}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,0,0,4" Padding="0,6,0,6">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
                                            <CheckBox Style="{StaticResource ModernCheckBox}" IsChecked="{Binding IsVisible, Mode=TwoWay}" VerticalAlignment="Center" Margin="10,0,5,0"/>
                                            <TextBlock Text="{Binding Name}" FontWeight="Bold" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                        </StackPanel>

                                        <Grid Grid.Row="1" Margin="0,4,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0" Text="Texture:" FontSize="10" Foreground="Gray" VerticalAlignment="Center" Margin="10,0,8,0"/>
                                            <ComboBox Grid.Column="1" Style="{StaticResource ModernComboBox}"
                                                      ItemsSource="{Binding AvailableTextureNames}"
                                                      SelectedItem="{Binding SelectedTextureName}"
                                                      Margin="0,0,10,0"/>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </TabItem>
                <TabItem Header="Animations">
                    <ListBox x:Name="AnimationsListBox"
                             Style="{StaticResource SmoothScrollListBox}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding}" VerticalAlignment="Center" Margin="10,0,0,0" Foreground="{StaticResource TextPrimary}"/>
                                    <Button Grid.Column="1" x:Name="PlayButton"
                                            Click="PlayButton_Click"
                                            Tag="{Binding}"
                                            ToolTip="Play Animation"
                                            Margin="5,0,0,0">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource IconButton}">
                                                <Setter Property="Background" Value="White"/>
                                                <Setter Property="Foreground" Value="Green"/>
                                            </Style>
                                        </Button.Style>
                                        <materialIcons:MaterialIcon Kind="Play" Width="14" Height="14"/>
                                    </Button>
                                    <Button Grid.Column="2" x:Name="StopButton"
                                            Click="StopButton_Click"
                                            Tag="{Binding}"
                                            ToolTip="Pause/Resume"
                                            Margin="5,0,5,0">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource IconButton}">
                                                <Setter Property="Foreground" Value="Red"/>
                                            </Style>
                                        </Button.Style>
                                        <materialIcons:MaterialIcon Kind="Pause" Width="14" Height="14"/>
                                    </Button>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </TabItem>
                <TabItem Header="Models">
                    <ListBox x:Name="ModelsListBox"
                             Style="{StaticResource SmoothScrollListBox}"
                             SelectionChanged="ModelsListBox_SelectionChanged">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding Name}" VerticalAlignment="Center" Margin="10,0,0,0" Foreground="{StaticResource TextPrimary}"/>
                                    <Button Grid.Column="1" x:Name="DeleteModelButton"
                                            Click="DeleteModelButton_Click"
                                            Tag="{Binding}"
                                            ToolTip="Delete Model"
                                            Margin="5,0,5,0">
                                        <Button.Style>
                                            <Style TargetType="Button" BasedOn="{StaticResource IconButton}">
                                                <Setter Property="Background" Value="{StaticResource AccentRed}"/>
                                                <Setter Property="Foreground" Value="White"/>
                                            </Style>
                                        </Button.Style>
                                        <materialIcons:MaterialIcon Kind="TrashCan" Width="14" Height="14"/>
                                    </Button>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </TabItem>
                <TabItem Header="Transform">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="10">
                            <TextBlock Text="Position" FontWeight="Bold" Foreground="{StaticResource TextPrimary}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="X" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="PositionXSlider" Minimum="-1000" Maximum="1000" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=PositionXSlider, Path=Value, StringFormat={}{0:F2}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Y" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="PositionYSlider" Minimum="-1000" Maximum="3000" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=PositionYSlider, Path=Value, StringFormat={}{0:F2}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Z" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="PositionZSlider" Minimum="-1000" Maximum="1000" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=PositionZSlider, Path=Value, StringFormat={}{0:F2}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>

                            <TextBlock Text="Rotation" FontWeight="Bold" Margin="0,10,0,0" Foreground="{StaticResource TextPrimary}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="X" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="RotationXSlider" Minimum="-180" Maximum="180" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=RotationXSlider, Path=Value, StringFormat={}{0:F0}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Y" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="RotationYSlider" Minimum="-180" Maximum="180" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=RotationYSlider, Path=Value, StringFormat={}{0:F0}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Z" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="RotationZSlider" Minimum="-180" Maximum="180" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=RotationZSlider, Path=Value, StringFormat={}{0:F0}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>

                            <TextBlock Text="Scale" FontWeight="Bold" Margin="0,10,0,0" Foreground="{StaticResource TextPrimary}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Uniform" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                                <Slider Grid.Column="1" x:Name="ScaleSlider" Minimum="0.1" Maximum="5" Value="1" ValueChanged="TransformSlider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="{Binding ElementName=ScaleSlider, Path=Value, StringFormat={}{0:F2}}" VerticalAlignment="Center" Foreground="{StaticResource TextPrimary}"/>
                            </Grid>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>
            </TabControl>
            
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button x:Name="LoadModelButton"
                        Style="{StaticResource SecondaryButton}"
                        Click="LoadModelButton_Click"
                        ToolTip="Load Model">
                    <materialIcons:MaterialIcon x:Name="LoadModelIcon" Kind="CubeOutline" Width="18" Height="18"/>
                </Button>

                <Button x:Name="LoadChromaModelButton"
                        Style="{StaticResource SecondaryButton}"
                        Click="LoadChromaModelButton_Click"
                        ToolTip="Load Chroma Model"
                        Margin="10,0,0,0">
                    <materialIcons:MaterialIcon x:Name="LoadChromaModelIcon" Kind="Palette" Width="18" Height="18"/>
                </Button>

                <Button x:Name="LoadAnimationButton"
                        Style="{StaticResource SecondaryButton}"
                        Click="LoadAnimationButton_Click"
                        ToolTip="Load Animations"
                        Margin="10,0,0,0">
                    <materialIcons:MaterialIcon Kind="AnimationPlay" Width="18" Height="18"/>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>