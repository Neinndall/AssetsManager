<UserControl x:Class="AssetsManager.Views.Controls.SidebarView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:info="clr-namespace:AssetsManager.Info"
             xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
             mc:Ignorable="d" 
             d:DesignHeight="730" d:DesignWidth="180"
             Width="64">

    <Border Background="{StaticResource CardBackground}" 
            BorderBrush="{StaticResource BorderColor}" 
            BorderThickness="0,0,1,0" 
            ClipToBounds="True">

        <Grid Margin="0,16,0,12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- Toggle Header -->
                <RowDefinition Height="Auto"/> <!-- Main Tools -->
                <RowDefinition Height="*"/>    <!-- Spacer -->
                <RowDefinition Height="Auto"/> <!-- System/Footer -->
            </Grid.RowDefinitions>

            <!-- Header: Toggle Button -->
            <StackPanel Grid.Row="0" Margin="0,0,0,24">
                <RadioButton x:Name="ToggleExpansionButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="ToggleExpansion_Click" Margin="0,0,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="Menu" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Panel" FontWeight="SemiBold" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>
            </StackPanel>

            <!-- Main Navigation Tools -->
            <StackPanel Grid.Row="1">
                <RadioButton x:Name="HomeButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Home" IsChecked="True" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="Home" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Home" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="JsonDiffToolButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Comparator" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="Compare" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Comparator" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="ExplorerButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Explorer" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="FolderSearchOutline" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Explorer" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="ModelsButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Models" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="CubeOutline" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Models" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="MonitorButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Monitor" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="Radar" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Monitor" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>
            </StackPanel>

            <!-- Bottom System Links -->
            <StackPanel Grid.Row="3">
                <!-- Visual Separator -->
                <Border Height="1" Background="{StaticResource BorderColor}" Margin="16,8,16,12" Opacity="0.4"/>

                <RadioButton x:Name="SettingsButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Settings" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="CogOutline" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Settings" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="HelpButton" Style="{StaticResource ModernSidebarNavigationStyle}" Click="MenuButton_Click" Tag="Help" GroupName="SidebarNavigation">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="64"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialIcons:MaterialIcon Grid.Column="0" Kind="HelpCircleOutline" Width="20" Height="20" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="Help" FontWeight="Normal" FontSize="12" VerticalAlignment="Center" Margin="0,0,16,0" Style="{StaticResource SidebarMenuTextStyle}"/>
                    </Grid>
                </RadioButton>

                <!-- Version Info -->
                <Border Margin="0,16,0,8" Opacity="0.6">
                    <TextBlock Text="{x:Static info:ApplicationInfos.Version}" 
                               FontWeight="Medium" 
                               FontSize="9" 
                               Foreground="{StaticResource TextMuted}" 
                               HorizontalAlignment="Center" 
                               Style="{StaticResource SidebarMenuTextStyle}"/>
                </Border>
            </StackPanel>
            
        </Grid>
    </Border>
</UserControl>
