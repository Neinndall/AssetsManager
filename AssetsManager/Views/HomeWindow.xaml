<UserControl x:Class="AssetsManager.Views.HomeWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1000">
    <UserControl.Resources>
        
        <!-- Premium Dashboard Tile Style -->
        <Style x:Key="DashboardTileStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid x:Name="RootGrid" RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0" Y="0"/>
                            </Grid.RenderTransform>
                            
                            <!-- 1. Glow Layer (Fixed: Using a dedicated border for the effect) -->
                            <Border x:Name="GlowBorder" CornerRadius="12" Opacity="0" IsHitTestVisible="False">
                                <Border.Background>
                                    <SolidColorBrush Color="{Binding Tag.Color, RelativeSource={RelativeSource TemplatedParent}}"/>
                                </Border.Background>
                                <Border.Effect>
                                    <BlurEffect Radius="15"/>
                                </Border.Effect>
                            </Border>

                            <!-- 2. Background Layer -->
                            <Border x:Name="BackgroundBorder" 
                                    Background="{TemplateBinding Background}" 
                                    CornerRadius="12"/>

                            <!-- 3. Accent Strip Layer -->
                            <Border x:Name="AccentStrip" 
                                    BorderThickness="3,0,0,0" 
                                    BorderBrush="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"
                                    CornerRadius="12"
                                    Opacity="0.8"
                                    Margin="0"/>

                            <!-- 4. Content Layer -->
                            <ContentPresenter Margin="1"/>

                            <!-- 5. Border Overlay -->
                            <Border x:Name="CardBorder"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="12"
                                    IsHitTestVisible="False"/>
                        </Grid>
                        
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="BackgroundBorder" Property="Background" Value="{StaticResource HoverColor}"/>
                                <Setter TargetName="CardBorder" Property="BorderBrush" Value="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"/>
                                <Setter TargetName="CardBorder" Property="BorderThickness" Value="1.5"/>
                                <Setter TargetName="AccentStrip" Property="Opacity" Value="1"/>
                                <Setter TargetName="GlowBorder" Property="Opacity" Value="0.25"/> <!-- Subtle but vibrant glow -->
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" To="-3" Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction><PowerEase EasingMode="EaseOut" Power="3"/></DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" To="0" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Secondary (Small) Card Style -->
        <Style x:Key="SecondaryTileStyle" TargetType="Button" BasedOn="{StaticResource DashboardTileStyle}">
            <Setter Property="Height" Value="80"/>
        </Style>

    </UserControl.Resources>

    <Grid>
        <!-- Background Pattern (Subtle Gradient) -->
        <Grid.Background>
            <RadialGradientBrush Center="0.5,-0.1" RadiusX="1.2" RadiusY="1.2">
                <GradientStop Color="#0D5577CC" Offset="0"/>
                <GradientStop Color="Transparent" Offset="1"/>
            </RadialGradientBrush>
        </Grid.Background>

        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="60,60,60,60" MaxWidth="900">
                
                <!-- HEADER HERO SECTION -->
                <StackPanel Margin="0,0,0,40" HorizontalAlignment="Left">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Border Grid.Column="0" Width="64" Height="64" Background="{StaticResource SidebarBackground}" CornerRadius="16" BorderBrush="{StaticResource BorderColor}" BorderThickness="1" Margin="0,0,24,0">
                            <materialIcons:MaterialIcon Kind="AutoFix" Width="36" Height="36" Foreground="{StaticResource AccentBrush}"/>
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Welcome back, Summoner" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="-2,0,0,0"/>
                            <TextBlock Text="What would you like to do today?" 
                                       FontSize="16" 
                                       Foreground="{StaticResource TextSecondary}" 
                                       Margin="-2,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>

                <!-- MAIN TOOLS GRID (2x2) -->
                <TextBlock Text="PRIMARY TOOLS" FontSize="11" FontWeight="Bold" Foreground="{StaticResource TextMuted}" Margin="10,0,0,10" Opacity="0.8"/>
                <UniformGrid Columns="2" Margin="0,0,0,20">
                    
                    <!-- Comparator -->
                    <Button Style="{StaticResource DashboardTileStyle}" Click="Button_Click" Tag="{StaticResource AccentBrush}">
                        <Button.CommandParameter>Comparator</Button.CommandParameter>
                        <Grid Margin="24,20">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            
                            <Border Width="44" Height="44" CornerRadius="10" Background="#1A5577CC" Margin="0,0,20,0">
                                <materialIcons:MaterialIcon Kind="Compare" Width="24" Height="24" Foreground="{StaticResource AccentBrush}"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="WAD Comparator" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="Compare version manifests and track incremental changes in game files." FontSize="13" Foreground="{StaticResource TextMuted}" Margin="-2,4,0,0" TextWrapping="Wrap"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="Compare" Width="64" Height="64" Foreground="{StaticResource AccentBrush}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-12,0" Grid.Column="1"/>
                        </Grid>
                    </Button>

                    <!-- Explorer -->
                    <Button Style="{StaticResource DashboardTileStyle}" Click="Button_Click" Tag="{StaticResource AccentBlue}">
                        <Button.CommandParameter>Explorer</Button.CommandParameter>
                        <Grid Margin="24,20">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            
                            <Border Width="44" Height="44" CornerRadius="10" Background="#1A4FC1FF" Margin="0,0,20,0">
                                <materialIcons:MaterialIcon Kind="FolderSearchOutline" Width="24" Height="24" Foreground="{StaticResource AccentBlue}"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="File Explorer" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="Browse virtual file systems, extract assets, and preview contents." FontSize="13" Foreground="{StaticResource TextMuted}" Margin="-2,4,0,0" TextWrapping="Wrap"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="FolderMultipleOutline" Width="64" Height="64" Foreground="{StaticResource AccentBlue}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-12,0" Grid.Column="1"/>
                        </Grid>
                    </Button>

                    <!-- Models -->
                    <Button Style="{StaticResource DashboardTileStyle}" Click="Button_Click" Tag="{StaticResource AccentPurple}">
                        <Button.CommandParameter>Models</Button.CommandParameter>
                        <Grid Margin="24,20">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            
                            <Border Width="44" Height="44" CornerRadius="10" Background="#1AC77DFF" Margin="0,0,20,0">
                                <materialIcons:MaterialIcon Kind="CubeOutline" Width="24" Height="24" Foreground="{StaticResource AccentPurple}"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="3D Models" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="Render champion skins, skeletons, and animations in high definition." FontSize="13" Foreground="{StaticResource TextMuted}" Margin="-2,4,0,0" TextWrapping="Wrap"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="CubeOutline" Width="64" Height="64" Foreground="{StaticResource AccentPurple}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-12,0" Grid.Column="1"/>
                        </Grid>
                    </Button>

                    <!-- Monitor -->
                    <Button Style="{StaticResource DashboardTileStyle}" Click="Button_Click" Tag="{StaticResource AccentGreen}">
                        <Button.CommandParameter>Monitor</Button.CommandParameter>
                        <Grid Margin="24,20">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            
                            <Border Width="44" Height="44" CornerRadius="10" Background="#1A57CC99" Margin="0,0,20,0">
                                <materialIcons:MaterialIcon Kind="Radar" Width="24" Height="24" Foreground="{StaticResource AccentGreen}"/>
                            </Border>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Live Monitor" FontSize="18" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="Monitor PBE status, remote JSON changes, and CDN asset discovery." FontSize="13" Foreground="{StaticResource TextMuted}" Margin="-2,4,0,0" TextWrapping="Wrap"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="MonitorDashboard" Width="64" Height="64" Foreground="{StaticResource AccentGreen}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-12,0" Grid.Column="1"/>
                        </Grid>
                    </Button>
                </UniformGrid>

                <!-- SYSTEM SECTION -->
                <TextBlock Text="APPLICATION" FontSize="11" FontWeight="Bold" Foreground="{StaticResource TextMuted}" Margin="10,0,0,10" Opacity="0.8"/>
                <UniformGrid Columns="2">
                    <!-- Settings -->
                    <Button Style="{StaticResource SecondaryTileStyle}" Click="Button_Click" Tag="{StaticResource TextSecondary}">
                        <Button.CommandParameter>Settings</Button.CommandParameter>
                        <Grid Margin="20,10">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            <materialIcons:MaterialIcon Kind="CogOutline" Width="22" Height="22" Foreground="{StaticResource TextSecondary}" Margin="0,0,16,0"/>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Settings" FontSize="15" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="Configure app behavior and game paths." FontSize="12" Foreground="{StaticResource TextMuted}" Margin="-2,0,0,0"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="CogOutline" Width="48" Height="48" Foreground="{StaticResource TextSecondary}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-8,0" Grid.Column="1"/>
                        </Grid>
                    </Button>

                    <!-- Help -->
                    <Button Style="{StaticResource SecondaryTileStyle}" Click="Button_Click" Tag="{StaticResource TextSecondary}">
                        <Button.CommandParameter>Help</Button.CommandParameter>
                        <Grid Margin="20,10">
                            <Grid.ColumnDefinitions><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                            <materialIcons:MaterialIcon Kind="HelpCircleOutline" Width="22" Height="22" Foreground="{StaticResource TextSecondary}" Margin="0,0,16,0"/>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Help &amp; Documentation" FontSize="15" FontWeight="SemiBold" Foreground="{StaticResource TextPrimary}" Margin="-2,0,0,0"/>
                                <TextBlock Text="User guides and application information." FontSize="12" Foreground="{StaticResource TextMuted}" Margin="-2,0,0,0"/>
                            </StackPanel>

                            <!-- Watermark Icon -->
                            <materialIcons:MaterialIcon Kind="HelpCircleOutline" Width="48" Height="48" Foreground="{StaticResource TextSecondary}" Opacity="0.05" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-8,0" Grid.Column="1"/>
                        </Grid>
                    </Button>
                </UniformGrid>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
