<!-- Themes/Animations.xaml -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Expansión más fluida con mejor timing -->
    <Storyboard x:Key="ExpandSidebar">
        <DoubleAnimation Storyboard.TargetProperty="Width" 
                         To="180" 
                         Duration="0:0:0.26">
            <DoubleAnimation.EasingFunction>
                <!-- Cambio a SineEase para mayor suavidad -->
                <SineEase EasingMode="EaseOut"/>
            </DoubleAnimation.EasingFunction>
        </DoubleAnimation>
    </Storyboard>
    
    <Storyboard x:Key="CollapseSidebar">
        <DoubleAnimation Storyboard.TargetProperty="Width" 
                         To="64" 
                         Duration="0:0:0.24">
            <DoubleAnimation.EasingFunction>
                <!-- SineEase para colapso más natural -->
                <SineEase EasingMode="EaseIn"/>
            </DoubleAnimation.EasingFunction>
        </DoubleAnimation>
    </Storyboard>
    
        <!-- Animación para el icono giratorio de progreso -->
    <Storyboard x:Key="SpinningIconAnimation">
        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                         From="0" To="360" Duration="0:0:1" RepeatBehavior="Forever"/>
    </Storyboard>

    <!-- Estilo para aplicar la animación de giro automáticamente -->
    <Style x:Key="SpinningIconStyle" TargetType="{x:Type FrameworkElement}">
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
        <Setter Property="RenderTransform">
            <Setter.Value>
                <RotateTransform Angle="0"/>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="Visibility" Value="Visible">
                <Trigger.EnterActions>
                    <BeginStoryboard x:Name="SpinningStoryboard" Storyboard="{StaticResource SpinningIconAnimation}"/>
                </Trigger.EnterActions>
                <Trigger.ExitActions>
                    <StopStoryboard BeginStoryboardName="SpinningStoryboard"/>
                </Trigger.ExitActions>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Estilo para el texto de los botones de la barra lateral -->
    <Style x:Key="SidebarMenuTextStyle" TargetType="TextBlock">
        <Setter Property="Opacity" Value="0"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsExpanded, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="1" Duration="0:0:0.16"/>
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.08" BeginTime="0:0:0.05"/>
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- SearchBox Animations -->
    <Storyboard x:Key="ExpandSearchBox">
        <DoubleAnimation Storyboard.TargetProperty="Width" To="150" Duration="0:0:0.4">
            <DoubleAnimation.EasingFunction>
                <CubicEase EasingMode="EaseOut"/>
            </DoubleAnimation.EasingFunction>
        </DoubleAnimation>
    </Storyboard>

    <Storyboard x:Key="CollapseSearchBox">
        <DoubleAnimation Storyboard.TargetProperty="Width" To="0" Duration="0:0:0.3">
            <DoubleAnimation.EasingFunction>
                <CubicEase EasingMode="EaseIn"/>
            </DoubleAnimation.EasingFunction>
        </DoubleAnimation>
    </Storyboard>

    <!-- Pulsing LED Animation for Status Indicators -->
    <Storyboard x:Key="PbeLedPulseAnimation" RepeatBehavior="Forever">
        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1.0" To="0.4" Duration="0:0:1.5" AutoReverse="True"/>
    </Storyboard>

    <!-- Technical Glow Animation for Backgrounds -->
    <Storyboard x:Key="GlowPulseAnimation" RepeatBehavior="Forever">
        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.04" To="0.14" Duration="0:0:1.5" AutoReverse="True"/>
        <ThicknessAnimation Storyboard.TargetProperty="Margin" From="4" To="-4" Duration="0:0:1.5" AutoReverse="True"/>
    </Storyboard>

    <!-- Global style for technical pulsing glow -->
    <Style x:Key="TechnicalGlowStyle" TargetType="FrameworkElement">
        <Style.Triggers>
            <Trigger Property="Visibility" Value="Visible">
                <Trigger.EnterActions>
                    <BeginStoryboard x:Name="GlowStoryboard" Storyboard="{StaticResource GlowPulseAnimation}"/>
                </Trigger.EnterActions>
                <Trigger.ExitActions>
                    <StopStoryboard BeginStoryboardName="GlowStoryboard"/>
                </Trigger.ExitActions>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Global style for pulsing LED indicators -->
    <Style x:Key="PulsingLedTestStyle" TargetType="Ellipse">
        <Setter Property="Width" Value="8"/>
        <Setter Property="Height" Value="8"/>
        <Style.Triggers>
            <EventTrigger RoutedEvent="Loaded">
                <BeginStoryboard Storyboard="{StaticResource PbeLedPulseAnimation}"/>
            </EventTrigger>
        </Style.Triggers>
    </Style>
        
</ResourceDictionary>